"use strict";exports.id=1682,exports.ids=[1682],exports.modules={6411:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{M:()=>l,R:()=>r});var i=a(58025),d=a(11737),o=a(75228),s=e([i,d,o]);[i,d,o]=s.then?(await s)():s;let l=(0,i.pgTable)("sessions",{id:(0,i.uuid)("id").notNull().defaultRandom(),sessionToken:(0,i.text)("session_token").primaryKey().unique(),userId:(0,i.uuid)("user_id").notNull().references(()=>o.V.id,{onDelete:"cascade"}),expires:(0,i.timestamp)("expires",{mode:"date"}).notNull(),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull()}),r=(0,d.relations)(l,({one:e})=>({user:e(o.V,{fields:[l.userId],references:[o.V.id]})}));n()}catch(e){n(e)}})},9696:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{N:()=>u,y:()=>c});var i=a(58025),d=a(11737),o=a(12698),s=a(36560),l=a(75228),r=e([i,d,o,s,l]);[i,d,o,s,l]=r.then?(await r)():r;let u=(0,i.pgTable)("conversations",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),userId:(0,i.uuid)("user_id").notNull().references(()=>l.V.id,{onDelete:"cascade"}),organizationId:(0,i.uuid)("organization_id").references(()=>s.Z.id,{onDelete:"cascade"}),title:(0,i.text)("title").notNull(),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull(),lastMessageAt:(0,i.timestamp)("last_message_at",{mode:"date"}).defaultNow().notNull()}),c=(0,d.relations)(u,({one:e,many:t})=>({user:e(l.V,{fields:[u.userId],references:[l.V.id]}),organization:e(s.Z,{fields:[u.organizationId],references:[s.Z.id]}),messages:t(o.D)}));n()}catch(e){n(e)}})},12698:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{D:()=>l,S:()=>r});var i=a(58025),d=a(11737),o=a(9696),s=e([i,d,o]);[i,d,o]=s.then?(await s)():s;let l=(0,i.pgTable)("messages",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),conversationId:(0,i.uuid)("conversation_id").notNull().references(()=>o.N.id,{onDelete:"cascade"}),role:(0,i.text)("role").notNull(),content:(0,i.text)("content").notNull(),tokens:(0,i.integer)("tokens"),modelId:(0,i.text)("model_id"),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull()}),r=(0,d.relations)(l,({one:e})=>({conversation:e(o.N,{fields:[l.conversationId],references:[o.N.id]})}));n()}catch(e){n(e)}})},14079:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{Q:()=>r,T:()=>l});var i=a(58025),d=a(11737),o=a(75228),s=e([i,d,o]);[i,d,o]=s.then?(await s)():s;let l=(0,i.pgTable)("api_tokens",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),userId:(0,i.uuid)("user_id").notNull().references(()=>o.V.id,{onDelete:"cascade"}),name:(0,i.text)("name").notNull(),token:(0,i.text)("token").notNull().unique(),expiresAt:(0,i.timestamp)("expires_at",{mode:"date"}),lastUsedAt:(0,i.timestamp)("last_used_at",{mode:"date"}),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull()}),r=(0,d.relations)(l,({one:e})=>({user:e(o.V,{fields:[l.userId],references:[o.V.id]})}));n()}catch(e){n(e)}})},27637:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{Ct:()=>s,HC:()=>r,Pu:()=>c,b3:()=>m,cE:()=>l,dK:()=>u});var i=a(58025),d=a(32767),o=e([i,d]);[i,d]=o.then?(await o)():o;let s=(0,i.pgTable)("slack_event_types",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),name:(0,i.text)("name").notNull().unique(),description:(0,i.text)("description"),category:(0,i.text)("category").notNull(),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull()}),l=(0,i.pgTable)("slack_events",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),eventTypeId:(0,i.uuid)("event_type_id").references(()=>s.id,{onDelete:"cascade"}).notNull(),integrationId:(0,i.uuid)("integration_id").references(()=>d.integrations.id,{onDelete:"cascade"}).notNull(),userId:(0,i.uuid)("user_id").references(()=>d.users.id,{onDelete:"cascade"}),organizationId:(0,i.uuid)("organization_id").references(()=>d.organizations.id,{onDelete:"cascade"}),slackUserId:(0,i.text)("slack_user_id"),slackChannelId:(0,i.text)("slack_channel_id"),slackTeamId:(0,i.text)("slack_team_id"),timestamp:(0,i.timestamp)("timestamp",{mode:"date"}).defaultNow().notNull(),metadata:(0,i.jsonb)("metadata")}),r=(0,i.pgTable)("slack_usage_metrics",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),integrationId:(0,i.uuid)("integration_id").references(()=>d.integrations.id,{onDelete:"cascade"}).notNull(),organizationId:(0,i.uuid)("organization_id").references(()=>d.organizations.id,{onDelete:"cascade"}),metricName:(0,i.text)("metric_name").notNull(),metricValue:(0,i.integer)("metric_value").notNull(),timeframe:(0,i.text)("timeframe").notNull(),startDate:(0,i.timestamp)("start_date",{mode:"date"}).notNull(),endDate:(0,i.timestamp)("end_date",{mode:"date"}).notNull(),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull()}),u=(0,i.pgTable)("slack_user_activity",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),integrationId:(0,i.uuid)("integration_id").references(()=>d.integrations.id,{onDelete:"cascade"}).notNull(),slackUserId:(0,i.text)("slack_user_id").notNull(),slackUserName:(0,i.text)("slack_user_name"),lastActive:(0,i.timestamp)("last_active",{mode:"date"}),totalInteractions:(0,i.integer)("total_interactions").default(0).notNull(),commandsUsed:(0,i.integer)("commands_used").default(0).notNull(),messagesReceived:(0,i.integer)("messages_received").default(0).notNull(),messagesSent:(0,i.integer)("messages_sent").default(0).notNull(),reactionsReceived:(0,i.integer)("reactions_received").default(0).notNull(),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull()}),c=(0,i.pgTable)("slack_channel_activity",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),integrationId:(0,i.uuid)("integration_id").references(()=>d.integrations.id,{onDelete:"cascade"}).notNull(),slackChannelId:(0,i.text)("slack_channel_id").notNull(),slackChannelName:(0,i.text)("slack_channel_name"),totalInteractions:(0,i.integer)("total_interactions").default(0).notNull(),commandsUsed:(0,i.integer)("commands_used").default(0).notNull(),messagesReceived:(0,i.integer)("messages_received").default(0).notNull(),messagesSent:(0,i.integer)("messages_sent").default(0).notNull(),uniqueUsers:(0,i.integer)("unique_users").default(0).notNull(),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull()}),m=(0,i.pgTable)("slack_ai_performance",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),integrationId:(0,i.uuid)("integration_id").references(()=>d.integrations.id,{onDelete:"cascade"}).notNull(),messageId:(0,i.text)("message_id").notNull(),slackUserId:(0,i.text)("slack_user_id"),slackChannelId:(0,i.text)("slack_channel_id"),promptLength:(0,i.integer)("prompt_length"),responseLength:(0,i.integer)("response_length"),responseTime:(0,i.integer)("response_time"),modelUsed:(0,i.text)("model_used"),feedbackRating:(0,i.integer)("feedback_rating"),feedbackComment:(0,i.text)("feedback_comment"),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull()});n()}catch(e){n(e)}})},28438:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{g:()=>r,v:()=>l});var i=a(58025),d=a(11737),o=a(75228),s=e([i,d,o]);[i,d,o]=s.then?(await s)():s;let l=(0,i.pgTable)("accounts",{id:(0,i.uuid)("id").defaultRandom().notNull().unique(),userId:(0,i.uuid)("user_id").notNull().references(()=>o.V.id,{onDelete:"cascade"}),type:(0,i.text)("type").$type().notNull(),provider:(0,i.text)("provider").notNull(),providerAccountId:(0,i.text)("provider_account_id").notNull(),refresh_token:(0,i.text)("refresh_token"),access_token:(0,i.text)("access_token"),expires_at:(0,i.integer)("expires_at"),token_type:(0,i.text)("token_type"),scope:(0,i.text)("scope"),id_token:(0,i.text)("id_token"),session_state:(0,i.text)("session_state"),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull()},e=>({compoundKey:(0,i.primaryKey)({columns:[e.provider,e.providerAccountId]})})),r=(0,d.relations)(l,({one:e})=>({user:e(o.V,{fields:[l.userId],references:[o.V.id]})}));n()}catch(e){n(e)}})},29038:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{M:()=>r,d:()=>u});var i=a(58025),d=a(11737),o=a(36560),s=a(75228),l=e([i,d,o,s]);[i,d,o,s]=l.then?(await l)():l;let r=(0,i.pgTable)("prompt_templates",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),name:(0,i.text)("name").notNull(),description:(0,i.text)("description"),content:(0,i.text)("content").notNull(),variables:(0,i.json)("variables").default([]),tags:(0,i.json)("tags").default([]),isPublic:(0,i.boolean)("is_public").default(!1),userId:(0,i.uuid)("user_id").notNull().references(()=>s.V.id,{onDelete:"cascade"}),organizationId:(0,i.uuid)("organization_id").references(()=>o.Z.id,{onDelete:"cascade"}),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull()}),u=(0,d.relations)(r,({one:e})=>({user:e(s.V,{fields:[r.userId],references:[s.V.id]}),organization:e(o.Z,{fields:[r.organizationId],references:[o.Z.id]})}));n()}catch(e){n(e)}})},32767:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.r(t),a.d(t,{accounts:()=>i.v,accountsRelations:()=>i.g,apiTokens:()=>d.T,apiTokensRelations:()=>d.Q,authenticators:()=>w.P,conversations:()=>o.N,conversationsRelations:()=>o.y,embeddings:()=>s.V,embeddingsRelations:()=>s.c,extensionLogs:()=>r.zl,extensionMarketplace:()=>r.Dp,extensionReviews:()=>r.FF,extensionStorage:()=>r.p1,extensions:()=>r.XO,insertIntegrationSettingsSchema:()=>v.oZ,insertMetadataSchema:()=>m.il,insertOrganizationSettingsSchema:()=>b.LN,insertUserPreferencesSchema:()=>I.UV,integrationSettings:()=>v.KA,integrationTypeEnum:()=>l.wN,integrations:()=>u.G,integrationsRelations:()=>u.B,messages:()=>c.D,messagesRelations:()=>c.S,metadata:()=>m.yu,organizationMembers:()=>p.N,organizationMembersRelations:()=>p.q,organizationRoleEnum:()=>l.tn,organizationSettings:()=>b.$u,organizations:()=>_.Z,organizationsRelations:()=>_.c,promptTemplates:()=>g.M,promptTemplatesRelations:()=>g.d,roleEnum:()=>l.a6,selectIntegrationSettingsSchema:()=>v.DQ,selectMetadataSchema:()=>m.zG,selectOrganizationSettingsSchema:()=>b.UN,selectUserPreferencesSchema:()=>I.$E,sessions:()=>N.M,sessionsRelations:()=>N.R,slackAIPerformance:()=>f.b3,slackChannelActivity:()=>f.Pu,slackEventTypes:()=>f.Ct,slackEvents:()=>f.cE,slackUsageMetrics:()=>f.HC,slackUserActivity:()=>f.dK,usageRecords:()=>x.o,usageRecordsRelations:()=>x.j,userPreferences:()=>I.KY,users:()=>y.V,usersRelations:()=>y.m,verificationTokens:()=>h.E});var i=a(28438),d=a(14079),o=a(9696),s=a(57572),l=a(41074),r=a(78664),u=a(95941),c=a(12698),m=a(47575),p=a(85287),_=a(36560),g=a(29038),N=a(6411),f=a(27637),y=a(75228),x=a(77032),h=a(66052),b=a(49023),v=a(92206),I=a(43074),w=a(57722),k=e([i,d,o,s,l,r,u,c,m,p,_,g,N,f,y,x,h,b,v,I,w]);[i,d,o,s,l,r,u,c,m,p,_,g,N,f,y,x,h,b,v,I,w]=k.then?(await k)():k,n()}catch(e){n(e)}})},36560:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{Z:()=>u,c:()=>c});var i=a(58025),d=a(11737),o=a(85287),s=a(95941),l=a(75228),r=e([i,d,o,s,l]);[i,d,o,s,l]=r.then?(await r)():r;let u=(0,i.pgTable)("organizations",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),name:(0,i.text)("name").notNull(),slug:(0,i.text)("slug").notNull().unique(),logo:(0,i.text)("logo"),website:(0,i.text)("website"),billingEmail:(0,i.text)("billing_email"),plan:(0,i.text)("plan").default("free").notNull(),stripeCustomerId:(0,i.text)("stripe_customer_id"),stripeSubscriptionId:(0,i.text)("stripe_subscription_id"),stripeSubscriptionStatus:(0,i.text)("stripe_subscription_status"),stripePriceId:(0,i.text)("stripe_price_id"),subscriptionCurrentPeriodEnd:(0,i.timestamp)("subscription_current_period_end",{mode:"date"}),cancelAtPeriodEnd:(0,i.boolean)("cancel_at_period_end").default(!1),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull()}),c=(0,d.relations)(u,({many:e})=>({members:e(o.N),integrations:e(s.G),users:e(l.V,{relationName:"defaultOrganization"})}));n()}catch(e){n(e)}})},41074:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{a6:()=>o,tn:()=>s,wN:()=>l});var i=a(58025),d=e([i]);i=(d.then?(await d)():d)[0];let o=(0,i.pgEnum)("role",["user","admin"]),s=(0,i.pgEnum)("organization_role",["member","admin","owner"]),l=(0,i.pgEnum)("integration_type",["salesforce","hubspot","google","slack"]);n()}catch(e){n(e)}})},43074:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{$E:()=>r,KY:()=>l,UV:()=>u});var i=a(58025),d=a(75228),o=a(90431),s=e([i,d,o]);[i,d,o]=s.then?(await s)():s;let l=(0,i.pgTable)("user_preferences",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),userId:(0,i.uuid)("user_id").notNull().references(()=>d.V.id,{onDelete:"cascade"}),theme:(0,i.varchar)("theme",{length:20}).default("system").notNull(),timezone:(0,i.varchar)("timezone",{length:50}).default("UTC").notNull(),locale:(0,i.varchar)("locale",{length:10}).default("en-US").notNull(),notifications:(0,i.jsonb)("notifications").notNull().$type().default({email:!0,inApp:!0,marketingEmails:!1,slackMessages:!0}),dashboardLayout:(0,i.jsonb)("dashboard_layout").$type(),customization:(0,i.jsonb)("customization").$type(),createdAt:(0,i.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at").defaultNow().notNull()},e=>({userIdIndex:(0,i.index)("user_preferences_user_id_idx").on(e.userId)})),r=(0,o.aJ)(l),u=(0,o.r)(l);n()}catch(e){n(e)}})},47575:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{il:()=>l,yu:()=>s,zG:()=>r});var i=a(58025),d=a(90431),o=e([i,d]);[i,d]=o.then?(await o)():o;let s=(0,i.pgTable)("metadata",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),entityType:(0,i.varchar)("entity_type",{length:50}).notNull(),entityId:(0,i.uuid)("entity_id").notNull(),key:(0,i.varchar)("key",{length:100}).notNull(),value:(0,i.jsonb)("value").notNull().$type(),createdAt:(0,i.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at").defaultNow().notNull()},e=>({entityTypeIndex:(0,i.index)("metadata_entity_type_idx").on(e.entityType),entityIdIndex:(0,i.index)("metadata_entity_id_idx").on(e.entityId),keyIndex:(0,i.index)("metadata_key_idx").on(e.key),entityTypeIdKeyIndex:(0,i.index)("metadata_entity_type_id_key_idx").on(e.entityType,e.entityId,e.key)})),l=(0,d.r)(s),r=(0,d.aJ)(s);n()}catch(e){n(e)}})},49023:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{$u:()=>l,LN:()=>u,UN:()=>r});var i=a(58025),d=a(36560),o=a(90431),s=e([i,d,o]);[i,d,o]=s.then?(await s)():s;let l=(0,i.pgTable)("organization_settings",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),organizationId:(0,i.uuid)("organization_id").notNull().references(()=>d.Z.id,{onDelete:"cascade"}),defaultIntegrations:(0,i.jsonb)("default_integrations").$type(),memberDefaultRole:(0,i.varchar)("member_default_role",{length:20}).default("member").notNull(),slackSettings:(0,i.jsonb)("slack_settings").$type(),aiSettings:(0,i.jsonb)("ai_settings").$type(),createdAt:(0,i.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at").defaultNow().notNull()},e=>({organizationIdIndex:(0,i.index)("organization_settings_organization_id_idx").on(e.organizationId)})),r=(0,o.aJ)(l),u=(0,o.r)(l);n()}catch(e){n(e)}})},57572:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{V:()=>r,c:()=>u});var i=a(58025),d=a(11737),o=a(36560),s=a(75228),l=e([i,d,o,s]);[i,d,o,s]=l.then?(await l)():l;let r=(0,i.pgTable)("embeddings",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),content:(0,i.text)("content").notNull(),embedding:(0,i.text)("embedding").notNull(),metadata:(0,i.json)("metadata"),userId:(0,i.uuid)("user_id").notNull().references(()=>s.V.id,{onDelete:"cascade"}),organizationId:(0,i.uuid)("organization_id").references(()=>o.Z.id,{onDelete:"cascade"}),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull()}),u=(0,d.relations)(r,({one:e})=>({user:e(s.V,{fields:[r.userId],references:[s.V.id]}),organization:e(o.Z,{fields:[r.organizationId],references:[o.Z.id]})}));n()}catch(e){n(e)}})},57722:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{P:()=>s});var i=a(58025),d=a(75228),o=e([i,d]);[i,d]=o.then?(await o)():o;let s=(0,i.pgTable)("authenticator",{credentialID:(0,i.text)("credentialID").notNull().unique(),userId:(0,i.uuid)("userId").notNull().references(()=>d.V.id,{onDelete:"cascade"}),providerAccountId:(0,i.text)("providerAccountId").notNull(),credentialPublicKey:(0,i.text)("credentialPublicKey").notNull(),counter:(0,i.integer)("counter").notNull(),credentialDeviceType:(0,i.text)("credentialDeviceType").notNull(),credentialBackedUp:(0,i.boolean)("credentialBackedUp").notNull(),transports:(0,i.text)("transports")},e=>[{compositePK:(0,i.primaryKey)({columns:[e.userId,e.credentialID]})}]);n()}catch(e){n(e)}})},66052:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{E:()=>o});var i=a(58025),d=e([i]);i=(d.then?(await d)():d)[0];let o=(0,i.pgTable)("verification_tokens",{identifier:(0,i.text)("identifier").notNull(),token:(0,i.text)("token").notNull(),expires:(0,i.timestamp)("expires",{mode:"date"}).notNull(),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull()},e=>({compoundKey:(0,i.primaryKey)({columns:[e.identifier,e.token]})}));n()}catch(e){n(e)}})},71682:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{db:()=>u});var i=a(56473),d=a(88909),o=a(97329),s=a(32767),l=e([i,s]);[i,s]=l.then?(await l)():l,(0,o.config)({path:".env"});let r=(0,d.lw)(process.env.DATABASE_URL),u=(0,i.drizzle)({client:r,schema:s});n()}catch(e){n(e)}})},75228:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{V:()=>p,m:()=>_});var i=a(58025),d=a(11737),o=a(28438),s=a(41074),l=a(95941),r=a(85287),u=a(36560),c=a(6411),m=e([i,d,o,s,l,r,u,c]);[i,d,o,s,l,r,u,c]=m.then?(await m)():m;let p=(0,i.pgTable)("users",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),name:(0,i.text)("name"),email:(0,i.text)("email").notNull().unique(),emailVerified:(0,i.timestamp)("email_verified",{mode:"date"}),image:(0,i.text)("image"),password:(0,i.text)("password"),role:(0,s.a6)("role").default("user").notNull(),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull(),defaultOrganizationId:(0,i.uuid)("default_organization_id").references(()=>u.Z.id)}),_=(0,d.relations)(p,({many:e,one:t})=>({accounts:e(o.v),sessions:e(c.M),integrations:e(l.G),organizationMemberships:e(r.N),defaultOrganization:t(u.Z,{fields:[p.defaultOrganizationId],references:[u.Z.id],relationName:"defaultOrganization"})}));n()}catch(e){n(e)}})},77032:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{j:()=>r,o:()=>l});var i=a(58025),d=a(11737),o=a(75228),s=e([i,d,o]);[i,d,o]=s.then?(await s)():s;let l=(0,i.pgTable)("usage_records",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),userId:(0,i.uuid)("user_id").notNull().references(()=>o.V.id,{onDelete:"cascade"}),type:(0,i.varchar)("type",{length:50}).notNull(),count:(0,i.integer)("count").notNull(),date:(0,i.timestamp)("date",{mode:"date"}).defaultNow().notNull(),metadata:(0,i.json)("metadata"),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull()}),r=(0,d.relations)(l,({one:e})=>({user:e(o.V,{fields:[l.userId],references:[o.V.id]})}));n()}catch(e){n(e)}})},78664:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{Dp:()=>l,FF:()=>c,XO:()=>s,p1:()=>r,zl:()=>u});var i=a(58025),d=a(32767),o=e([i,d]);[i,d]=o.then?(await o)():o;let s=(0,i.pgTable)("extensions",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),name:(0,i.text)("name").notNull(),description:(0,i.text)("description"),version:(0,i.text)("version").notNull(),type:(0,i.text)("type").notNull(),author:(0,i.jsonb)("author"),entryPoints:(0,i.jsonb)("entry_points"),permissions:(0,i.jsonb)("permissions"),settings:(0,i.jsonb)("settings"),hooks:(0,i.jsonb)("hooks"),isActive:(0,i.boolean)("is_active").default(!0).notNull(),isSystem:(0,i.boolean)("is_system").default(!1).notNull(),installationSource:(0,i.text)("installation_source").default("custom").notNull(),organizationId:(0,i.uuid)("organization_id").references(()=>d.organizations.id,{onDelete:"cascade"}),userId:(0,i.uuid)("user_id").references(()=>d.users.id,{onDelete:"cascade"}),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull(),lastUsedAt:(0,i.timestamp)("last_used_at",{mode:"date"})}),l=(0,i.pgTable)("extension_marketplace",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),name:(0,i.text)("name").notNull(),description:(0,i.text)("description"),version:(0,i.text)("version").notNull(),type:(0,i.text)("type").notNull(),author:(0,i.jsonb)("author"),entryPoints:(0,i.jsonb)("entry_points"),permissions:(0,i.jsonb)("permissions"),settings:(0,i.jsonb)("settings"),hooks:(0,i.jsonb)("hooks"),isVerified:(0,i.boolean)("is_verified").default(!1).notNull(),isPublished:(0,i.boolean)("is_published").default(!1).notNull(),downloadCount:(0,i.text)("download_count").default("0").notNull(),rating:(0,i.text)("rating").default("0").notNull(),packageUrl:(0,i.text)("package_url").notNull(),iconUrl:(0,i.text)("icon_url"),screenshotUrls:(0,i.jsonb)("screenshot_urls"),websiteUrl:(0,i.text)("website_url"),supportUrl:(0,i.text)("support_url"),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull(),publishedAt:(0,i.timestamp)("published_at",{mode:"date"})}),r=(0,i.pgTable)("extension_storage",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),extensionId:(0,i.uuid)("extension_id").references(()=>s.id,{onDelete:"cascade"}).notNull(),key:(0,i.text)("key").notNull(),value:(0,i.jsonb)("value"),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull()}),u=(0,i.pgTable)("extension_logs",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),extensionId:(0,i.uuid)("extension_id").references(()=>s.id,{onDelete:"cascade"}).notNull(),level:(0,i.text)("level").notNull(),message:(0,i.text)("message").notNull(),details:(0,i.jsonb)("details"),timestamp:(0,i.timestamp)("timestamp",{mode:"date"}).defaultNow().notNull()}),c=(0,i.pgTable)("extension_reviews",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),extensionMarketplaceId:(0,i.uuid)("extension_marketplace_id").references(()=>l.id,{onDelete:"cascade"}).notNull(),userId:(0,i.uuid)("user_id").references(()=>d.users.id,{onDelete:"cascade"}).notNull(),rating:(0,i.text)("rating").notNull(),title:(0,i.text)("title"),content:(0,i.text)("content"),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull()});n()}catch(e){n(e)}})},85287:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{N:()=>u,q:()=>c});var i=a(58025),d=a(11737),o=a(41074),s=a(36560),l=a(75228),r=e([i,d,o,s,l]);[i,d,o,s,l]=r.then?(await r)():r;let u=(0,i.pgTable)("organization_members",{id:(0,i.uuid)("id").defaultRandom().notNull().unique(),organizationId:(0,i.uuid)("organization_id").notNull().references(()=>s.Z.id,{onDelete:"cascade"}),userId:(0,i.uuid)("user_id").notNull().references(()=>l.V.id,{onDelete:"cascade"}),role:(0,o.tn)("role").default("member").notNull(),invitedEmail:(0,i.text)("invited_email"),inviteAccepted:(0,i.boolean)("invite_accepted").default(!1),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull()},e=>({uniqMembership:(0,i.primaryKey)({columns:[e.organizationId,e.userId]})})),c=(0,d.relations)(u,({one:e})=>({organization:e(s.Z,{fields:[u.organizationId],references:[s.Z.id]}),user:e(l.V,{fields:[u.userId],references:[l.V.id]})}));n()}catch(e){n(e)}})},92206:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{DQ:()=>r,KA:()=>l,oZ:()=>u});var i=a(58025),d=a(95941),o=a(90431),s=e([i,d,o]);[i,d,o]=s.then?(await s)():s;let l=(0,i.pgTable)("integration_settings",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),integrationId:(0,i.uuid)("integration_id").notNull().references(()=>d.G.id,{onDelete:"cascade"}),syncFrequency:(0,i.varchar)("sync_frequency",{length:20}).default("hourly").notNull(),syncSettings:(0,i.jsonb)("sync_settings").$type(),webhookSettings:(0,i.jsonb)("webhook_settings").$type(),apiSettings:(0,i.jsonb)("api_settings").$type(),createdAt:(0,i.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at").defaultNow().notNull()},e=>({integrationIdIndex:(0,i.index)("integration_settings_integration_id_idx").on(e.integrationId)})),r=(0,o.aJ)(l),u=(0,o.r)(l);n()}catch(e){n(e)}})},95941:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{B:()=>c,G:()=>u});var i=a(58025),d=a(11737),o=a(41074),s=a(36560),l=a(75228),r=e([i,d,o,s,l]);[i,d,o,s,l]=r.then?(await r)():r;let u=(0,i.pgTable)("integrations",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),userId:(0,i.uuid)("user_id").notNull().references(()=>l.V.id,{onDelete:"cascade"}),organizationId:(0,i.uuid)("organization_id").references(()=>s.Z.id,{onDelete:"cascade"}),type:(0,o.wN)("type").notNull(),name:(0,i.text)("name").notNull(),config:(0,i.json)("config").notNull(),isActive:(0,i.boolean)("is_active").default(!0).notNull(),createdAt:(0,i.timestamp)("created_at",{mode:"date"}).defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at",{mode:"date"}).defaultNow().notNull(),lastSyncedAt:(0,i.timestamp)("last_synced_at",{mode:"date"})}),c=(0,d.relations)(u,({one:e})=>({user:e(l.V,{fields:[u.userId],references:[l.V.id]}),organization:e(s.Z,{fields:[u.organizationId],references:[s.Z.id]})}));n()}catch(e){n(e)}})}};