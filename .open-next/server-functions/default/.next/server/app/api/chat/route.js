(()=>{var e={};e.id=276,e.ids=[276],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},10788:e=>{"use strict";e.exports=import("drizzle-orm/mysql-core")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10974:(e,r,t)=>{"use strict";t.d(r,{$_:()=>u,Yv:()=>n,cn:()=>i,jP:()=>a});var s=t(75986),o=t(8974);function i(...e){return(0,o.QP)((0,s.$)(e))}async function a(e,r){for await(let t of e.textStream)r(t)}function n(e){return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}function u(){return process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:`http://localhost:${process.env.PORT||3e3}`}},11737:e=>{"use strict";e.exports=import("drizzle-orm")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},37830:e=>{"use strict";e.exports=require("node:stream/web")},39542:(e,r,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{POST:()=>u,runtime:()=>p});var o=t(32190),i=t(58178),a=t(17673),n=e([i]);i=(n.then?(await n)():n)[0];let p="nodejs",c=new a.Ay({apiKey:process.env.OPENAI_API_KEY});async function u(e){try{let r=await (0,i.j2)();if(!r?.user)return o.NextResponse.json({error:"Unauthorized"},{status:401});let{messages:t,model:s="gpt-4o",temperature:a=.7}=await e.json();if(!t||!Array.isArray(t)||0===t.length)return o.NextResponse.json({error:"Messages are required and must be an array"},{status:400});let n=await c.chat.completions.create({model:s,messages:t,temperature:a,stream:!0});return new Response(n.toReadableStream(),{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})}catch(e){return o.NextResponse.json({error:"Internal server error"},{status:500})}}s()}catch(e){s(e)}})},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56473:e=>{"use strict";e.exports=import("drizzle-orm/neon-http")},57075:e=>{"use strict";e.exports=require("node:stream")},57238:e=>{"use strict";e.exports=import("drizzle-orm/sqlite-core")},57975:e=>{"use strict";e.exports=require("node:util")},58025:e=>{"use strict";e.exports=import("drizzle-orm/pg-core")},61870:(e,r,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{patchFetch:()=>p,routeModule:()=>c,serverHooks:()=>l,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>x});var o=t(96559),i=t(48088),a=t(37719),n=t(39542),u=e([n]);n=(u.then?(await u)():u)[0];let c=new o.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/chat/route",pathname:"/api/chat",filename:"route",bundlePath:"app/api/chat/route"},resolvedPagePath:"/Users/jacob/projects/nuco/src/app/api/chat/route.ts",nextConfigOutput:"standalone",userland:n}),{workAsyncStorage:d,workUnitAsyncStorage:x,serverHooks:l}=c;function p(){return(0,a.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:x})}s()}catch(e){s(e)}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},77598:e=>{"use strict";e.exports=require("node:crypto")},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},96487:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4447,4017,2190,1771,4999,1712,7624,1682,8178],()=>t(61870));module.exports=s})();