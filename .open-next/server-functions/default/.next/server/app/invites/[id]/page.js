(()=>{var e={};e.id=6759,e.ids=[6759],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8654:e=>{"use strict";e.exports=import("@trpc/server/unstable-core-do-not-import")},10274:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,pages:()=>l,routeModule:()=>u,tree:()=>c});var i=r(65239),s=r(48088),n=r(88170),a=r.n(n),o=r(30893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(t,d);let c={children:["",{children:["invites",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,44811)),"/Users/jacob/projects/nuco/src/app/invites/[id]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Users/jacob/projects/nuco/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,67393)),"/Users/jacob/projects/nuco/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["/Users/jacob/projects/nuco/src/app/invites/[id]/page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new i.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/invites/[id]/page",pathname:"/invites/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11769:(e,t,r)=>{"use strict";r.a(e,async(e,i)=>{try{r.r(t),r.d(t,{default:()=>u});var s=r(60687),n=r(43210),a=r(16189),o=r(21737),d=r(96586),c=r(41862),l=r(29494),p=e([o,d]);function u(){let e=(0,d.n6)(),t=(0,a.useParams)(),[r,i]=(0,n.useState)(!0),[p,u]=(0,n.useState)(null),[m,x]=(0,n.useState)(null),{data:h,isError:v,error:f,isSuccess:j}=(0,l.I)(e.organization.getInvite.queryOptions({inviteId:t.id},{enabled:!!t.id}));return r?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,s.jsx)(c.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,s.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading invitation..."})]}):p?(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"bg-destructive/10 p-4 rounded-md text-destructive",children:[(0,s.jsx)("p",{className:"font-semibold",children:"Error"}),(0,s.jsx)("p",{children:p})]})}):m?(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:(0,s.jsx)(o.J,{inviteId:m.id,organizationId:m.organizationId,organizationName:m.organizationName,inviterName:m.inviterName})}):(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"bg-destructive/10 p-4 rounded-md text-destructive",children:[(0,s.jsx)("p",{className:"font-semibold",children:"Invalid Invitation"}),(0,s.jsx)("p",{children:"This invitation does not exist or has expired."})]})})}[o,d]=p.then?(await p)():p,i()}catch(e){i(e)}})},12617:e=>{"use strict";e.exports=import("@trpc/server/rpc")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21737:(e,t,r)=>{"use strict";r.a(e,async(e,i)=>{try{r.d(t,{J:()=>h});var s=r(60687),n=r(43210),a=r(16189),o=r(22111),d=r(96586),c=r(20140),l=r(29523),p=r(44493),u=r(41862),m=r(54050),x=e([d]);function h({inviteId:e,organizationId:t,organizationName:r,inviterName:i}){let x=(0,d.n6)(),[h,v]=(0,n.useState)(!1),[f,j]=(0,n.useState)(!1),[g,b]=(0,n.useState)(!1),y=(0,a.useRouter)(),{data:N}=(0,o.wV)(),{toast:C}=(0,c.dj)(),w=(0,m.n)(x.organization.acceptInvite.mutationOptions({onSuccess:()=>{j(!0),C({title:"Invitation accepted",description:`You have joined ${r}`}),setTimeout(()=>{y.push(`/org/${t}`)},2e3)},onError:e=>{C({title:"Error",description:"Failed to accept invitation",variant:"destructive"}),v(!1)}})),P=(0,m.n)(x.organization.declineInvite.mutationOptions({onSuccess:()=>{b(!0),C({title:"Invitation declined",description:"You have declined the invitation"}),setTimeout(()=>{y.push("/dashboard")},2e3)},onError:e=>{C({title:"Error",description:"Failed to decline invitation",variant:"destructive"}),v(!1)}}));return(0,s.jsxs)(p.Card,{className:"w-full max-w-md mx-auto",children:[(0,s.jsxs)(p.CardHeader,{children:[(0,s.jsx)(p.CardTitle,{children:"Organization Invitation"}),(0,s.jsx)(p.CardDescription,{children:i?`${i} has invited you to join ${r}`:`You have been invited to join ${r}`})]}),(0,s.jsx)(p.CardContent,{children:f?(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("p",{className:"text-green-600 dark:text-green-400 mb-2",children:"Invitation accepted!"}),(0,s.jsx)("p",{children:"Redirecting to the organization dashboard..."})]}):g?(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("p",{className:"text-muted-foreground mb-2",children:"Invitation declined."}),(0,s.jsx)("p",{children:"Redirecting to your dashboard..."})]}):(0,s.jsx)("p",{className:"text-center py-4",children:"Would you like to join this organization?"})}),!f&&!g&&(0,s.jsxs)(p.CardFooter,{className:"flex justify-between",children:[(0,s.jsx)(l.$,{variant:"outline",onClick:()=>{if(!N?.user){y.push(`/auth/login?callbackUrl=/invites/${e}`);return}v(!0),P.mutate({inviteId:e,organizationId:t})},disabled:h,children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Decline"}),(0,s.jsx)(l.$,{onClick:()=>{if(!N?.user){y.push(`/auth/login?callbackUrl=/invites/${e}`);return}v(!0),w.mutate({inviteId:e,organizationId:t})},disabled:h,children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Accept"})]})]})}d=(x.then?(await x)():x)[0],i()}catch(e){i(e)}})},26557:(e,t,r)=>{Promise.resolve().then(r.bind(r,11769))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},41862:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},44493:(e,t,r)=>{"use strict";r.d(t,{Card:()=>a,CardContent:()=>l,CardDescription:()=>c,CardFooter:()=>p,CardHeader:()=>o,CardTitle:()=>d});var i=r(60687),s=r(43210),n=r(4780);let a=s.forwardRef(({className:e,...t},r)=>(0,i.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));a.displayName="Card";let o=s.forwardRef(({className:e,...t},r)=>(0,i.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let d=s.forwardRef(({className:e,...t},r)=>(0,i.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let c=s.forwardRef(({className:e,...t},r)=>(0,i.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let l=s.forwardRef(({className:e,...t},r)=>(0,i.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));l.displayName="CardContent";let p=s.forwardRef(({className:e,...t},r)=>(0,i.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));p.displayName="CardFooter"},44811:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});let i=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jacob/projects/nuco/src/app/invites/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jacob/projects/nuco/src/app/invites/[id]/page.tsx","default")},61333:e=>{"use strict";e.exports=import("@trpc/server")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var i=r(31658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,i.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},74843:e=>{"use strict";e.exports=import("@trpc/server/observable")},79551:e=>{"use strict";e.exports=require("url")},98941:(e,t,r)=>{Promise.resolve().then(r.bind(r,44811))}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[4447,4017,7917,1658,4779,2943],()=>r(10274));module.exports=i})();