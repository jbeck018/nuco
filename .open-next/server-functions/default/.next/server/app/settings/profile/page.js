(()=>{var e={};e.id=1412,e.ids=[1412],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3315:(e,s,r)=>{"use strict";r.d(s,{eu:()=>b,q5:()=>w,BK:()=>N});var t=r(60687),a=r(43210),i=r(11273),n=r(13495),l=r(66156),o=r(14163),d="Avatar",[c,m]=(0,i.A)(d),[u,p]=c(d),x=a.forwardRef((e,s)=>{let{__scopeAvatar:r,...i}=e,[n,l]=a.useState("idle");return(0,t.jsx)(u,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:(0,t.jsx)(o.sG.span,{...i,ref:s})})});x.displayName=d;var f="AvatarImage",h=a.forwardRef((e,s)=>{let{__scopeAvatar:r,src:i,onLoadingStatusChange:d=()=>{},...c}=e,m=p(f,r),u=function(e,s){let[r,t]=a.useState("idle");return(0,l.N)(()=>{if(!e){t("error");return}let r=!0,a=new window.Image,i=e=>()=>{r&&t(e)};return t("loading"),a.onload=i("loaded"),a.onerror=i("error"),a.src=e,s&&(a.referrerPolicy=s),()=>{r=!1}},[e,s]),r}(i,c.referrerPolicy),x=(0,n.c)(e=>{d(e),m.onImageLoadingStatusChange(e)});return(0,l.N)(()=>{"idle"!==u&&x(u)},[u,x]),"loaded"===u?(0,t.jsx)(o.sG.img,{...c,ref:s,src:i}):null});h.displayName=f;var j="AvatarFallback",v=a.forwardRef((e,s)=>{let{__scopeAvatar:r,delayMs:i,...n}=e,l=p(j,r),[d,c]=a.useState(void 0===i);return a.useEffect(()=>{if(void 0!==i){let e=window.setTimeout(()=>c(!0),i);return()=>window.clearTimeout(e)}},[i]),d&&"loaded"!==l.imageLoadingStatus?(0,t.jsx)(o.sG.span,{...n,ref:s}):null});v.displayName=j;var g=r(4780);function b({className:e,...s}){return(0,t.jsx)(x,{"data-slot":"avatar",className:(0,g.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...s})}function N({className:e,...s}){return(0,t.jsx)(h,{"data-slot":"avatar-image",className:(0,g.cn)("aspect-square size-full",e),...s})}function w({className:e,...s}){return(0,t.jsx)(v,{"data-slot":"avatar-fallback",className:(0,g.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...s})}},8654:e=>{"use strict";e.exports=import("@trpc/server/unstable-core-do-not-import")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12617:e=>{"use strict";e.exports=import("@trpc/server/rpc")},18488:(e,s,r)=>{Promise.resolve().then(r.bind(r,19610))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19610:(e,s,r)=>{"use strict";r.a(e,async(e,t)=>{try{r.r(s),r.d(s,{default:()=>g});var a=r(60687),i=r(43210),n=r(27605),l=r(63442),o=r(45880),d=r(29523),c=r(71669),m=r(89667),u=r(20140),p=r(44493),x=r(3315),f=r(18157),h=r(85726),j=r(4780),v=e([f]);f=(v.then?(await v)():v)[0];let b=o.z.object({name:o.z.string().min(2,{message:"Name must be at least 2 characters."}),image:o.z.string().url({message:"Please enter a valid URL."}).optional().or(o.z.literal(""))});function g(){let{toast:e}=(0,u.dj)(),{profile:s,isLoading:r}=(0,f.sb)(),t=(0,f.t3)(),[o,v]=(0,i.useState)(!1),g=(0,n.mN)({resolver:(0,l.u)(b),defaultValues:{name:s?.name||"",image:s?.image||""}});async function N(s){v(!0);try{await t.mutateAsync({name:s.name,image:s.image||void 0}),e({title:"Profile updated",description:"Your profile has been updated successfully."})}catch(s){e({title:"Error",description:"Failed to update profile. Please try again.",variant:"destructive"})}finally{v(!1)}}return r?(0,a.jsx)("div",{className:"container mx-auto py-8",children:(0,a.jsxs)(p.Card,{children:[(0,a.jsxs)(p.CardHeader,{children:[(0,a.jsx)(h.E,{className:"h-8 w-3/4"}),(0,a.jsx)(h.E,{className:"h-4 w-2/3 mt-2"})]}),(0,a.jsxs)(p.CardContent,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.E,{className:"h-4 w-1/4"}),(0,a.jsx)(h.E,{className:"h-10 w-full"}),(0,a.jsx)(h.E,{className:"h-3 w-2/3"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.E,{className:"h-4 w-1/4"}),(0,a.jsx)(h.E,{className:"h-10 w-full"}),(0,a.jsx)(h.E,{className:"h-3 w-2/3"})]})]}),(0,a.jsx)(p.CardFooter,{children:(0,a.jsx)(h.E,{className:"h-10 w-1/4"})})]})}):(0,a.jsx)("div",{children:(0,a.jsxs)(p.Card,{children:[(0,a.jsxs)(p.CardHeader,{children:[(0,a.jsx)(p.CardTitle,{children:"Profile Settings"}),(0,a.jsx)(p.CardDescription,{children:"Update your personal information and profile picture."})]}),(0,a.jsxs)(p.CardContent,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,a.jsxs)(x.eu,{className:"h-20 w-20",children:[(0,a.jsx)(x.BK,{src:s?.image||"",alt:s?.name||"User"}),(0,a.jsx)(x.q5,{children:(0,j.IM)(s?.name||"User")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:s?.name||"User"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:s?.email})]})]}),(0,a.jsx)(c.lV,{...g,children:(0,a.jsxs)("form",{onSubmit:g.handleSubmit(N),className:"space-y-6",children:[(0,a.jsx)(c.zB,{control:g.control,name:"name",render:({field:e})=>(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Name"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(m.p,{placeholder:"Your name",...e})}),(0,a.jsx)(c.Rr,{children:"This is your public display name."}),(0,a.jsx)(c.C5,{})]})}),(0,a.jsx)(c.zB,{control:g.control,name:"image",render:({field:e})=>(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Profile Picture URL"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(m.p,{placeholder:"https://example.com/avatar.jpg",...e})}),(0,a.jsx)(c.Rr,{children:"Enter a URL for your profile picture."}),(0,a.jsx)(c.C5,{})]})}),(0,a.jsx)(d.$,{type:"submit",disabled:o||t.isPending,children:o||t.isPending?"Saving...":"Save Changes"})]})})]})]})})}t()}catch(e){t(e)}})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35973:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var t=r(37413),a=r(6972),i=r(78963);function n(){return(0,t.jsx)("div",{children:(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsx)(a.E,{className:"h-6 w-40 mb-2"}),(0,t.jsx)(a.E,{className:"h-4 w-64"})]}),(0,t.jsxs)(i.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,t.jsx)(a.E,{className:"h-20 w-20 rounded-full"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.E,{className:"h-5 w-32 mb-2"}),(0,t.jsx)(a.E,{className:"h-4 w-48"})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(a.E,{className:"h-4 w-24"}),(0,t.jsx)(a.E,{className:"h-10 w-full rounded-md"}),(0,t.jsx)(a.E,{className:"h-3 w-64 mt-1"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(a.E,{className:"h-4 w-32"}),(0,t.jsx)(a.E,{className:"h-10 w-full rounded-md"}),(0,t.jsx)(a.E,{className:"h-3 w-64 mt-1"})]}),(0,t.jsx)("div",{className:"pt-4 flex justify-end",children:(0,t.jsx)(a.E,{className:"h-10 w-24 rounded-md"})})]})]})]})})}},61333:e=>{"use strict";e.exports=import("@trpc/server")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63696:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var t=r(65239),a=r(48088),i=r(88170),n=r.n(i),l=r(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(s,o);let d={children:["",{children:["settings",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,72808)),"/Users/jacob/projects/nuco/src/app/settings/profile/page.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,35973)),"/Users/jacob/projects/nuco/src/app/settings/profile/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,50225)),"/Users/jacob/projects/nuco/src/app/settings/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,46127)),"/Users/jacob/projects/nuco/src/app/settings/loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Users/jacob/projects/nuco/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,67393)),"/Users/jacob/projects/nuco/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/jacob/projects/nuco/src/app/settings/profile/page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/settings/profile/page",pathname:"/settings/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},71669:(e,s,r)=>{"use strict";r.d(s,{C5:()=>v,MJ:()=>h,Rr:()=>j,eI:()=>x,lR:()=>f,lV:()=>d,zB:()=>m});var t=r(60687),a=r(43210),i=r(8730),n=r(27605),l=r(4780),o=r(80013);let d=n.Op,c=a.createContext({}),m=({...e})=>(0,t.jsx)(c.Provider,{value:{name:e.name},children:(0,t.jsx)(n.xI,{...e})}),u=()=>{let e=a.useContext(c),s=a.useContext(p),{getFieldState:r,formState:t}=(0,n.xW)(),i=r(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=s;return{id:l,name:e.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...i}},p=a.createContext({}),x=a.forwardRef(({className:e,...s},r)=>{let i=a.useId();return(0,t.jsx)(p.Provider,{value:{id:i},children:(0,t.jsx)("div",{ref:r,className:(0,l.cn)("space-y-2",e),...s})})});x.displayName="FormItem";let f=a.forwardRef(({className:e,...s},r)=>{let{error:a,formItemId:i}=u();return(0,t.jsx)(o.J,{ref:r,className:(0,l.cn)(a&&"text-destructive",e),htmlFor:i,...s})});f.displayName="FormLabel";let h=a.forwardRef(({...e},s)=>{let{error:r,formItemId:a,formDescriptionId:n,formMessageId:l}=u();return(0,t.jsx)(i.DX,{ref:s,id:a,"aria-describedby":r?`${n} ${l}`:`${n}`,"aria-invalid":!!r,...e})});h.displayName="FormControl";let j=a.forwardRef(({className:e,...s},r)=>{let{formDescriptionId:a}=u();return(0,t.jsx)("p",{ref:r,id:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...s})});j.displayName="FormDescription";let v=a.forwardRef(({className:e,children:s,...r},a)=>{let{error:i,formMessageId:n}=u(),o=i?String(i?.message):s;return o?(0,t.jsx)("p",{ref:a,id:n,className:(0,l.cn)("text-sm font-medium text-destructive",e),...r,children:o}):null});v.displayName="FormMessage"},72808:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jacob/projects/nuco/src/app/settings/profile/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jacob/projects/nuco/src/app/settings/profile/page.tsx","default")},74843:e=>{"use strict";e.exports=import("@trpc/server/observable")},79551:e=>{"use strict";e.exports=require("url")},80013:(e,s,r)=>{"use strict";r.d(s,{J:()=>d});var t=r(60687),a=r(43210),i=r(78148),n=r(24224),l=r(4780);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)(i.b,{ref:r,className:(0,l.cn)(o(),e),...s}));d.displayName=i.b.displayName},83640:(e,s,r)=>{Promise.resolve().then(r.bind(r,72808))},89667:(e,s,r)=>{"use strict";r.d(s,{p:()=>n});var t=r(60687),a=r(43210),i=r(4780);let n=a.forwardRef(({className:e,type:s,...r},a)=>(0,t.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));n.displayName="Input"}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[4447,4017,7917,1658,6034,4779,5880,8763,2943,262],()=>r(63696));module.exports=t})();