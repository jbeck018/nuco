(()=>{var e={};e.id=3803,e.ids=[3803],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8654:e=>{"use strict";e.exports=import("@trpc/server/unstable-core-do-not-import")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12617:e=>{"use strict";e.exports=import("@trpc/server/rpc")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20835:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jacob/projects/nuco/src/app/chat-templates/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jacob/projects/nuco/src/app/chat-templates/page.tsx","default")},24365:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var r=a(60687),s=a(43210),i=a(16189),n=a(29523),o=a(89667),l=a(44493),d=a(96834),c=a(85763),u=a(62688);let p=(0,u.A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var m=a(99270);let x=(0,u.A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var f=a(70615);let h=(0,u.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var v=a(88233),g=a(20140),b=a(22111);function j(){let{data:e}=(0,b.wV)(),t=(0,i.useRouter)(),{toast:a}=(0,g.dj)(),[u,j]=(0,s.useState)([]),[y,w]=(0,s.useState)(""),[N,C]=(0,s.useState)([]),[k,P]=(0,s.useState)(!0),[A,T]=(0,s.useState)("my"),z=Array.from(new Set(u.flatMap(e=>e.tags))).sort(),E=e=>{C(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},M=async e=>{if(confirm("Are you sure you want to delete this template?"))try{if(!(await fetch(`/api/chat-templates/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete template");j(t=>t.filter(t=>t.id!==e)),a({title:"Success",description:"Template deleted successfully"})}catch(e){a({title:"Error",description:"Failed to delete template",variant:"destructive"})}},R=async t=>{try{let{name:r,description:s,content:i,variables:n,tags:o,isPublic:l,organizationId:d}=t,c={name:`${r} (Copy)`,description:s,content:i,variables:n,tags:o,isPublic:l,organizationId:d};if(!(await fetch("/api/chat-templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok)throw Error("Failed to duplicate template");let u=await fetch(`/api/chat-templates?${"organization"===A&&e?.user?.defaultOrganizationId?`organizationId=${e.user.defaultOrganizationId}`:""}`),p=await u.json();j(p),a({title:"Success",description:"Template duplicated successfully"})}catch(e){a({title:"Error",description:"Failed to duplicate template",variant:"destructive"})}};return(0,r.jsxs)("div",{className:"container mx-auto py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Prompt Templates"}),(0,r.jsxs)(n.$,{onClick:()=>t.push("/chat-templates/new"),children:[(0,r.jsx)(p,{className:"mr-2 h-4 w-4"}),"Create Template"]})]}),(0,r.jsx)(c.tU,{defaultValue:"my",className:"mb-6",onValueChange:T,children:(0,r.jsxs)(c.j7,{children:[(0,r.jsx)(c.Xi,{value:"my",children:"My Templates"}),e?.user?.defaultOrganizationId&&(0,r.jsx)(c.Xi,{value:"organization",children:"Organization Templates"})]})}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 mb-6",children:[(0,r.jsx)("div",{className:"w-full md:w-3/4",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,r.jsx)(o.p,{placeholder:"Search templates...",className:"pl-10",value:y,onChange:e=>w(e.target.value)})]})}),(0,r.jsx)("div",{className:"w-full md:w-1/4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,r.jsx)(x,{className:"h-4 w-4 text-muted-foreground"}),z.map(e=>(0,r.jsx)(d.E,{variant:N.includes(e)?"default":"outline",className:"cursor-pointer",onClick:()=>E(e),children:e},e))]})})]}),k?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):0===u.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("h3",{className:"text-xl font-medium mb-2",children:"No templates found"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-6",children:y||N.length>0?"Try adjusting your search or filters":"Create your first prompt template to get started"}),(0,r.jsxs)(n.$,{onClick:()=>t.push("/chat-templates/new"),children:[(0,r.jsx)(p,{className:"mr-2 h-4 w-4"}),"Create Template"]})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(a=>(0,r.jsxs)(l.Card,{className:"overflow-hidden",children:[(0,r.jsxs)(l.CardHeader,{className:"pb-3",children:[(0,r.jsx)(l.CardTitle,{className:"text-xl",children:a.name}),(0,r.jsx)(l.CardDescription,{className:"line-clamp-2",children:a.description||"No description provided"})]}),(0,r.jsxs)(l.CardContent,{children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium mb-1",children:"Variables:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:a.variables.length>0?a.variables.map((e,t)=>(0,r.jsx)(d.E,{variant:"secondary",children:e.name},t)):(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"No variables"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium mb-1",children:"Tags:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:a.tags.length>0?a.tags.map((e,t)=>(0,r.jsx)(d.E,{variant:"outline",children:e},t)):(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"No tags"})})]})]}),(0,r.jsxs)(l.CardFooter,{className:"flex justify-between pt-3 border-t",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(d.E,{variant:a.isPublic?"default":"secondary",className:"text-xs",children:a.isPublic?"Public":"Private"})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>R(a),title:"Duplicate",children:(0,r.jsx)(f.A,{className:"h-4 w-4"})}),(0,r.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>t.push(`/chat-templates/${a.id}`),title:"Edit",children:(0,r.jsx)(h,{className:"h-4 w-4"})}),e?.user?.id===a.userId&&(0,r.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>M(a.id),title:"Delete",children:(0,r.jsx)(v.A,{className:"h-4 w-4"})})]})]})]},a.id))})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},38474:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=a(65239),s=a(48088),i=a(88170),n=a.n(i),o=a(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let d={children:["",{children:["chat-templates",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,20835)),"/Users/jacob/projects/nuco/src/app/chat-templates/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,94431)),"/Users/jacob/projects/nuco/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,67393)),"/Users/jacob/projects/nuco/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/jacob/projects/nuco/src/app/chat-templates/page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/chat-templates/page",pathname:"/chat-templates",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},44493:(e,t,a)=>{"use strict";a.d(t,{Card:()=>n,CardContent:()=>c,CardDescription:()=>d,CardFooter:()=>u,CardHeader:()=>o,CardTitle:()=>l});var r=a(60687),s=a(43210),i=a(4780);let n=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let o=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("h3",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("p",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},55146:(e,t,a)=>{"use strict";a.d(t,{B8:()=>z,UC:()=>M,bL:()=>T,l9:()=>E});var r=a(43210),s=a(70569),i=a(11273),n=a(72942),o=a(46059),l=a(14163),d=a(43),c=a(65551),u=a(96963),p=a(60687),m="Tabs",[x,f]=(0,i.A)(m,[n.RG]),h=(0,n.RG)(),[v,g]=x(m),b=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,onValueChange:s,defaultValue:i,orientation:n="horizontal",dir:o,activationMode:m="automatic",...x}=e,f=(0,d.jH)(o),[h,g]=(0,c.i)({prop:r,onChange:s,defaultProp:i});return(0,p.jsx)(v,{scope:a,baseId:(0,u.B)(),value:h,onValueChange:g,orientation:n,dir:f,activationMode:m,children:(0,p.jsx)(l.sG.div,{dir:f,"data-orientation":n,...x,ref:t})})});b.displayName=m;var j="TabsList",y=r.forwardRef((e,t)=>{let{__scopeTabs:a,loop:r=!0,...s}=e,i=g(j,a),o=h(a);return(0,p.jsx)(n.bL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:(0,p.jsx)(l.sG.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});y.displayName=j;var w="TabsTrigger",N=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,disabled:i=!1,...o}=e,d=g(w,a),c=h(a),u=P(d.baseId,r),m=A(d.baseId,r),x=r===d.value;return(0,p.jsx)(n.q7,{asChild:!0,...c,focusable:!i,active:x,children:(0,p.jsx)(l.sG.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...o,ref:t,onMouseDown:(0,s.m)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(r)}),onKeyDown:(0,s.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(r)}),onFocus:(0,s.m)(e.onFocus,()=>{let e="manual"!==d.activationMode;x||i||!e||d.onValueChange(r)})})})});N.displayName=w;var C="TabsContent",k=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,forceMount:i,children:n,...d}=e,c=g(C,a),u=P(c.baseId,s),m=A(c.baseId,s),x=s===c.value,f=r.useRef(x);return r.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,p.jsx)(o.C,{present:i||x,children:({present:a})=>(0,p.jsx)(l.sG.div,{"data-state":x?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!a,id:m,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:a&&n})})});function P(e,t){return`${e}-trigger-${t}`}function A(e,t){return`${e}-content-${t}`}k.displayName=C;var T=b,z=y,E=N,M=k},56089:(e,t,a)=>{Promise.resolve().then(a.bind(a,20835))},61333:e=>{"use strict";e.exports=import("@trpc/server")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70440:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(31658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},70615:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},74843:e=>{"use strict";e.exports=import("@trpc/server/observable")},79551:e=>{"use strict";e.exports=require("url")},85763:(e,t,a)=>{"use strict";a.d(t,{Xi:()=>l,av:()=>d,j7:()=>o,tU:()=>n});var r=a(60687);a(43210);var s=a(55146),i=a(4780);function n({className:e,...t}){return(0,r.jsx)(s.bL,{"data-slot":"tabs",className:(0,i.cn)("flex flex-col gap-2",e),...t})}function o({className:e,...t}){return(0,r.jsx)(s.B8,{"data-slot":"tabs-list",className:(0,i.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-1",e),...t})}function l({className:e,...t}){return(0,r.jsx)(s.l9,{"data-slot":"tabs-trigger",className:(0,i.cn)("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring inline-flex items-center justify-center gap-2 rounded-md px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function d({className:e,...t}){return(0,r.jsx)(s.UC,{"data-slot":"tabs-content",className:(0,i.cn)("flex-1 outline-none",e),...t})}},88233:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},89667:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var r=a(60687),s=a(43210),i=a(4780);let n=s.forwardRef(({className:e,type:t,...a},s)=>(0,r.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));n.displayName="Input"},92537:(e,t,a)=>{Promise.resolve().then(a.bind(a,24365))},96834:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var r=a(60687);a(43210);var s=a(8730),i=a(24224),n=a(4780);let o=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-auto",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,asChild:a=!1,...i}){let l=a?s.DX:"span";return(0,r.jsx)(l,{"data-slot":"badge",className:(0,n.cn)(o({variant:t}),e),...i})}},99270:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[4447,4017,7917,1658,2943],()=>a(38474));module.exports=r})();