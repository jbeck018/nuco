(()=>{var e={};e.id=3715,e.ids=[3715],e.modules={487:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(60687),a=s(43210),i=s(16189),o=s(22111),n=s(20140),l=s(29523),c=s(28559),d=s(3710);function p(e){(0,a.use)(e.params);let{data:t}=(0,o.wV)(),s=(0,i.useRouter)(),{toast:p}=(0,n.dj)(),[u,m]=(0,a.useState)(null),[h,x]=(0,a.useState)(!0),[v,f]=(0,a.useState)(!1),b=async e=>{if(u){f(!0);try{if(!(await fetch(`/api/chat-templates/${u.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to update template");p({title:"Success",description:"Template updated successfully"}),m({...u,...e})}catch(e){p({title:"Error",description:"Failed to update template",variant:"destructive"})}finally{f(!1)}}},j=async()=>{if(u&&confirm("Are you sure you want to delete this template? This action cannot be undone."))try{if(!(await fetch(`/api/chat-templates/${u.id}`,{method:"DELETE"})).ok)throw Error("Failed to delete template");p({title:"Success",description:"Template deleted successfully"}),s.push("/chat-templates")}catch(e){p({title:"Error",description:"Failed to delete template",variant:"destructive"})}},y=u&&t?.user&&u.userId===t.user.id;return h?(0,r.jsx)("div",{className:"container mx-auto py-8 flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u?y?(0,r.jsxs)("div",{className:"container mx-auto py-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsxs)(l.$,{variant:"ghost",onClick:()=>s.push("/chat-templates"),className:"mr-4",children:[(0,r.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Edit Template"})]}),(0,r.jsx)(d.A,{initialValues:u,onSubmit:b,isSubmitting:v,onDelete:j})]}):(0,r.jsx)("div",{className:"container mx-auto py-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Permission Denied"}),(0,r.jsx)("p",{className:"mb-6",children:"You don't have permission to edit this template."}),(0,r.jsxs)(l.$,{onClick:()=>s.push("/chat-templates"),children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Back to Templates"]})]})}):(0,r.jsx)("div",{className:"container mx-auto py-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Template not found"}),(0,r.jsx)("p",{className:"mb-6",children:"The requested template does not exist or you don't have permission to view it."}),(0,r.jsxs)(l.$,{onClick:()=>s.push("/chat-templates"),children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Back to Templates"]})]})})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8654:e=>{"use strict";e.exports=import("@trpc/server/unstable-core-do-not-import")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12617:e=>{"use strict";e.exports=import("@trpc/server/rpc")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20953:(e,t,s)=>{Promise.resolve().then(s.bind(s,76809))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},57401:(e,t,s)=>{Promise.resolve().then(s.bind(s,487))},61333:e=>{"use strict";e.exports=import("@trpc/server")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69774:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var r=s(65239),a=s(48088),i=s(88170),o=s.n(i),n=s(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let c={children:["",{children:["chat-templates",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,76809)),"/Users/jacob/projects/nuco/src/app/chat-templates/[id]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/Users/jacob/projects/nuco/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,67393)),"/Users/jacob/projects/nuco/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/jacob/projects/nuco/src/app/chat-templates/[id]/page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/chat-templates/[id]/page",pathname:"/chat-templates/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},74843:e=>{"use strict";e.exports=import("@trpc/server/observable")},76809:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jacob/projects/nuco/src/app/chat-templates/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jacob/projects/nuco/src/app/chat-templates/[id]/page.tsx","default")},79551:e=>{"use strict";e.exports=require("url")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4447,4017,7917,1658,6034,2943,5491],()=>s(69774));module.exports=r})();