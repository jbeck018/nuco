(()=>{var e={};e.id=3131,e.ids=[3131],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},8654:e=>{"use strict";e.exports=import("@trpc/server/unstable-core-do-not-import")},10788:e=>{"use strict";e.exports=import("drizzle-orm/mysql-core")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11737:e=>{"use strict";e.exports=import("drizzle-orm")},12617:e=>{"use strict";e.exports=import("@trpc/server/rpc")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},28167:(e,s,r)=>{"use strict";r.a(e,async(e,t)=>{try{r.r(s),r.d(s,{default:()=>c,metadata:()=>d});var a=r(37413),i=r(58178),n=r(39916),o=r(62860),l=e([i]);i=(l.then?(await l)():l)[0];let d={title:"Function Calling Demo",description:"Demonstration of OpenAI function calling capabilities"};async function c(){let e=await (0,i.j2)();return e?.user||(0,n.redirect)("/api/auth/signin"),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Function Calling Demo"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:"This demo shows how to use OpenAI function calling to get structured data from the AI."}),(0,a.jsx)(o.FunctionCallingDemo,{userId:e.user.id})]})}t()}catch(e){t(e)}})},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34522:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var t=r(65239),a=r(48088),i=r(88170),n=r.n(i),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let c={children:["",{children:["chat",{children:["functions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,28167)),"/Users/jacob/projects/nuco/src/app/chat/functions/page.tsx"]}]},{}]},{loading:[()=>Promise.resolve().then(r.bind(r,63534)),"/Users/jacob/projects/nuco/src/app/chat/loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Users/jacob/projects/nuco/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,67393)),"/Users/jacob/projects/nuco/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/jacob/projects/nuco/src/app/chat/functions/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/chat/functions/page",pathname:"/chat/functions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},34729:(e,s,r)=>{"use strict";r.d(s,{T:()=>i});var t=r(60687);r(43210);var a=r(4780);function i({className:e,...s}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}},35802:(e,s,r)=>{"use strict";r.d(s,{FunctionCallingDemo:()=>m});var t=r(60687),a=r(43210),i=r(29523),n=r(44493),o=r(80013),l=r(34729),c=r(20140);let d=(e,s="celsius")=>({location:e,temperature:(({"New York, NY":{celsius:22,fahrenheit:72},"San Francisco, CA":{celsius:18,fahrenheit:64},"Miami, FL":{celsius:30,fahrenheit:86},"Chicago, IL":{celsius:15,fahrenheit:59},"Los Angeles, CA":{celsius:24,fahrenheit:75}})[e]||{celsius:20,fahrenheit:68})[s],unit:s,condition:["sunny","cloudy","rainy","stormy"][Math.floor(4*Math.random())]}),u=(e,s,r)=>{switch(e){case"add":return{result:s+r};case"subtract":return{result:s-r};case"multiply":return{result:s*r};case"divide":return{result:s/r};default:return{error:"Invalid operation"}}};function m({userId:e}){let[s,r]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),{toast:f}=(0,c.dj)(),v=async e=>{if(e.preventDefault(),!s.trim()){f({title:"Error",description:"Please enter a prompt",variant:"destructive"});return}h(!0),p("");try{if(await new Promise(e=>setTimeout(e,1e3)),s.toLowerCase().includes("weather")){let e=s.match(/weather in ([a-zA-Z\s,]+)/i)?.[1]||"San Francisco, CA",r=s.toLowerCase().includes("fahrenheit")?"fahrenheit":"celsius",t=d(e,r);p(`The weather in ${t.location} is ${t.condition} with a temperature of ${t.temperature}\xb0${"celsius"===r?"C":"F"}.`)}else if(s.toLowerCase().match(/calculate|add|subtract|multiply|divide/)){let e=s.match(/\d+/g)?.map(Number)||[0,0],r="add";s.toLowerCase().includes("subtract")?r="subtract":s.toLowerCase().includes("multiply")?r="multiply":s.toLowerCase().includes("divide")&&(r="divide");let t=u(r,e[0],e[1]);p(`The result of the calculation is ${t.result}.`)}else p("I can help you with weather information or calculations. Try asking about the weather in a city or to perform a calculation.")}catch(e){f({title:"Error",description:"Failed to process your request",variant:"destructive"})}finally{h(!1)}};return(0,t.jsxs)(n.Card,{className:"w-full max-w-3xl mx-auto",children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsx)(n.CardTitle,{children:"Function Calling Demo"}),(0,t.jsx)(n.CardDescription,{children:"Try asking about the weather in a city or to perform a calculation."})]}),(0,t.jsx)(n.CardContent,{children:(0,t.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"prompt",children:"Your prompt"}),(0,t.jsx)(l.T,{id:"prompt",placeholder:"e.g., What's the weather in San Francisco? or Calculate 25 + 17",value:s,onChange:e=>r(e.target.value),className:"min-h-[100px]"})]}),m&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"response",children:"Response"}),(0,t.jsx)("div",{id:"response",className:"p-4 rounded-md bg-muted min-h-[100px] whitespace-pre-wrap",children:m})]})]})}),(0,t.jsx)(n.CardFooter,{children:(0,t.jsx)(i.$,{type:"submit",onClick:v,disabled:x||!s.trim(),className:"w-full",children:x?"Processing...":"Submit"})})]})}},44493:(e,s,r)=>{"use strict";r.d(s,{Card:()=>n,CardContent:()=>d,CardDescription:()=>c,CardFooter:()=>u,CardHeader:()=>o,CardTitle:()=>l});var t=r(60687),a=r(43210),i=r(4780);let n=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let o=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let c=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let d=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent";let u=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s}));u.displayName="CardFooter"},44569:(e,s,r)=>{Promise.resolve().then(r.bind(r,35802))},55511:e=>{"use strict";e.exports=require("crypto")},56473:e=>{"use strict";e.exports=import("drizzle-orm/neon-http")},57238:e=>{"use strict";e.exports=import("drizzle-orm/sqlite-core")},57975:e=>{"use strict";e.exports=require("node:util")},58025:e=>{"use strict";e.exports=import("drizzle-orm/pg-core")},61333:e=>{"use strict";e.exports=import("@trpc/server")},62860:(e,s,r)=>{"use strict";r.d(s,{FunctionCallingDemo:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call FunctionCallingDemo() from the server but FunctionCallingDemo is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jacob/projects/nuco/src/components/chat/function-calling-demo.tsx","FunctionCallingDemo")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63534:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i});var t=r(37413),a=r(6972);function i(){return(0,t.jsxs)("div",{className:"flex h-full flex-col",children:[(0,t.jsxs)("div",{className:"border-b p-4",children:[(0,t.jsx)(a.E,{className:"h-6 w-48 mb-2"}),(0,t.jsx)(a.E,{className:"h-4 w-64"})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-auto p-4 space-y-8",children:[(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)("div",{className:"max-w-[80%] rounded-lg bg-primary/10 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(a.E,{className:"h-4 w-20"}),(0,t.jsx)(a.E,{className:"h-4 w-16 ml-auto"})]}),(0,t.jsx)(a.E,{className:"h-4 w-full mb-1"}),(0,t.jsx)(a.E,{className:"h-4 w-[90%] mb-1"}),(0,t.jsx)(a.E,{className:"h-4 w-[70%]"})]})}),(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsxs)("div",{className:"max-w-[80%] rounded-lg bg-muted p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(a.E,{className:"h-4 w-16"}),(0,t.jsx)(a.E,{className:"h-4 w-16 ml-auto"})]}),(0,t.jsx)(a.E,{className:"h-4 w-full mb-1"}),(0,t.jsx)(a.E,{className:"h-4 w-full mb-1"}),(0,t.jsx)(a.E,{className:"h-4 w-full mb-1"}),(0,t.jsx)(a.E,{className:"h-4 w-[95%] mb-1"}),(0,t.jsx)(a.E,{className:"h-4 w-[85%]"})]})}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)("div",{className:"max-w-[80%] rounded-lg bg-primary/10 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(a.E,{className:"h-4 w-20"}),(0,t.jsx)(a.E,{className:"h-4 w-16 ml-auto"})]}),(0,t.jsx)(a.E,{className:"h-4 w-[80%] mb-1"}),(0,t.jsx)(a.E,{className:"h-4 w-[60%]"})]})}),(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsxs)("div",{className:"max-w-[80%] rounded-lg bg-muted p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(a.E,{className:"h-4 w-16"}),(0,t.jsx)(a.E,{className:"h-4 w-16 ml-auto"})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary/40 animate-pulse"}),(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary/40 animate-pulse delay-150"}),(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary/40 animate-pulse delay-300"})]})]})})]}),(0,t.jsx)("div",{className:"border-t p-4",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(a.E,{className:"h-12 flex-1 rounded-lg"}),(0,t.jsx)(a.E,{className:"h-12 w-12 rounded-lg"})]})})]})}},70440:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});var t=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},73945:(e,s,r)=>{Promise.resolve().then(r.bind(r,62860))},74843:e=>{"use strict";e.exports=import("@trpc/server/observable")},77598:e=>{"use strict";e.exports=require("node:crypto")},78148:(e,s,r)=>{"use strict";r.d(s,{b:()=>o});var t=r(43210),a=r(14163),i=r(60687),n=t.forwardRef((e,s)=>(0,i.jsx)(a.sG.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var o=n},79551:e=>{"use strict";e.exports=require("url")},80013:(e,s,r)=>{"use strict";r.d(s,{J:()=>c});var t=r(60687),a=r(43210),i=r(78148),n=r(24224),o=r(4780);let l=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)(i.b,{ref:r,className:(0,o.cn)(l(),e),...s}));c.displayName=i.b.displayName}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[4447,4017,2190,7917,1771,1658,4999,1712,2943,1682,8178],()=>r(34522));module.exports=t})();